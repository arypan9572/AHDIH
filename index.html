<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>anjelbert zone</title>
<link href="https://fonts.cdnfonts.com/css/inter" rel="stylesheet">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:#000;
  font-family:'Inter',sans-serif;
}

canvas{position:absolute;inset:0;}

#grain{
  position:fixed;inset:0;
  pointer-events:none;
  background-image:repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.03) 0px,
    rgba(255,255,255,0.03) 1px,
    transparent 1px,
    transparent 2px
  );
  opacity:0.15;
  animation:grainShift 0.15s infinite linear;
  z-index:10;
}

#vignette{
  position:fixed;inset:0;
  pointer-events:none;
  background:radial-gradient(circle at center,
    rgba(0,0,0,0) 40%,
    rgba(0,0,0,0.6) 100%);
  z-index:10;
}

@keyframes grainShift{
  from{transform:translateY(0)}
  to{transform:translateY(2px)}
}
</style>
</head>

<body>

<canvas id="fx"></canvas>
<div id="grain"></div>
<div id="vignette"></div>

<script>
const fx=document.getElementById("fx");
const ctx=fx.getContext("2d");

let w,h,cx,cy;
function resize(){
  w=fx.width=innerWidth;
  h=fx.height=innerHeight;
  cx=w/2; cy=h/2;
}
addEventListener("resize",resize);
resize();

/* ===== BACKGROUND SWITCH ===== */
let bgToggle=false;
setInterval(()=>bgToggle=!bgToggle,60000);

/* ===== MOUSE ===== */
let mouse={x:cx,y:cy};
addEventListener("mousemove",e=>{
  mouse.x=e.clientX;
  mouse.y=e.clientY;
});

/* ===== TEXT MEMES ===== */
const memes=[
  "anjelbert have dih",
  "anjelbert moment",
  "anjelbert.exe",
  "anjelbert certified",
  "anjelbert core",
  "only anjelbert",
  "anjelbert energy"
];
let memeIndex=0;
setInterval(()=>{
  memeIndex=(memeIndex+1)%memes.length;
},3000);

/* ===== GLITCH BURST ===== */
let glitchBurst=false;
let glitchCount=0;
setInterval(()=>{
  glitchBurst=true;
  glitchCount=0;
},3500);

/* ===== DONUT 1 (original morph donut) ===== */
const donut1=[...Array(700)].map(()=>({
  a:Math.random()*Math.PI*2,
  r:90+Math.random()*120,
  s:1.2+Math.random()*1.5,
  h:Math.random()*360,
  l:Math.random()*Math.PI*2
}));

/* ===== DONUT 2 (rainbow ring donut from other code) ===== */
function drawDonut2(){
  ctx.save();
  ctx.translate(cx,cy);

  const t=time*0.8;
  for(let i=0;i<300;i++){
    const a=i/300*Math.PI*2;
    const r=180+Math.sin(time*2+i)*30;
    const x=Math.cos(a+t)*r;
    const y=Math.sin(a+t)*r;

    ctx.fillStyle=`hsla(${(i*4+time*80)%360},80%,60%,0.7)`;
    ctx.fillRect(x,y,2,2);
  }

  ctx.restore();
}

let time=0;
let rotation=0;

/* ===== GLITCH TEXT ===== */
function drawGlitchText(text){
  const jx=(Math.random()-0.5)*6;
  const jy=(Math.random()-0.5)*6;

  ctx.fillStyle="#000";
  ctx.fillText(text,jx,jy);

  ctx.fillStyle="#ff00ff";
  ctx.fillText(text,4+jx,-2+jy);

  ctx.fillStyle="#00ffff";
  ctx.fillText(text,-4+jx,2+jy);

  ctx.fillStyle="#ffffff";
  ctx.fillText(text,2+jx,4+jy);
}

/* ===== LOOP ===== */
function loop(){
  time+=0.016;
  rotation+=0.02;

  // background swap
  document.body.style.background = bgToggle ? "#c9b24a" : "#000000";

  ctx.clearRect(0,0,w,h);

  /* ===== DONUT 1 ===== */
  donut1.forEach(p=>{
    p.a+=0.02;

    let wave=Math.sin(time+p.l)*40;
    let morph=Math.cos(time*2+p.l)*30;
    let r=p.r+wave+morph;

    let x=Math.cos(p.a+rotation)*r + (mouse.x-cx)/10;
    let y=Math.sin(p.a+rotation)*r + (mouse.y-cy)/10;

    if(glitchBurst && Math.random()<0.4) return;

    ctx.fillStyle=`hsla(${p.h+time*60},100%,55%,1)`;
    ctx.beginPath();
    ctx.arc(cx+x,cy+y,p.s,0,Math.PI*2);
    ctx.fill();
  });

  /* ===== DONUT 2 ===== */
  drawDonut2();

  /* glitch burst visibility */
  let visible=true;
  if(glitchBurst){
    visible=Math.random()>0.5;
    glitchCount++;
    if(glitchCount>10) glitchBurst=false;
  }

  /* ===== TEXT MORPH ===== */
  if(visible){

    const stretchX = 1 + Math.sin(time*5)*0.5;
    const stretchY = 1 + Math.cos(time*4)*0.4;

    const wobbleX = Math.sin(time*12)*8;
    const wobbleY = Math.cos(time*10)*8;

    const rot = Math.sin(time*3)*0.4;

    ctx.save();
    ctx.translate(cx,cy);
    ctx.rotate(rot);
    ctx.scale(stretchX,stretchY);
    ctx.translate(wobbleX,wobbleY);

    ctx.font="64px Inter";
    ctx.textAlign="center";
    ctx.shadowBlur=30;

    drawGlitchText(memes[memeIndex]);

    ctx.restore();
  }

  /* flash glitch */
  if(Math.random()<0.02){
    ctx.fillStyle="rgba(255,255,255,0.25)";
    ctx.fillRect(0,0,w,h);
  }

  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
