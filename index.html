<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>anjelbert have dih</title>
<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:black;
  font-family: Arial, sans-serif;
}

canvas{
  position:fixed;
  top:0;
  left:0;
}

#bg{
  z-index:0;
}

#main{
  z-index:3;
}

#crt{
  pointer-events:none;
  position:fixed;
  inset:0;
  z-index:5;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.04),
      rgba(255,255,255,0.04) 1px,
      rgba(0,0,0,0) 2px,
      rgba(0,0,0,0) 4px
    );
  mix-blend-mode: overlay;
}

#vignette{
  pointer-events:none;
  position:fixed;
  inset:0;
  z-index:6;
  background: radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.5) 85%);
}
</style>
</head>
<body>

<canvas id="bg"></canvas>
<canvas id="main"></canvas>
<div id="crt"></div>
<div id="vignette"></div>

<script>
const bg=document.getElementById("bg");
const main=document.getElementById("main");
const bctx=bg.getContext("2d");
const ctx=main.getContext("2d");

let w,h;
function resize(){
  w=bg.width=main.width=window.innerWidth;
  h=bg.height=main.height=window.innerHeight;
}
window.onresize=resize;
resize();

let time=0;
let flickerCount=0;
let flickerTimer=0;
let visible=true;
let mouse={x:w/2,y:h/2};

document.onmousemove=e=>{
  mouse.x=e.clientX;
  mouse.y=e.clientY;
};

const memes=[
  "anjelbert have dih",
  "anjelbert moment",
  "only anjelbert",
  "dih energy",
  "certified anjelbert",
  "legendary dih"
];

let memeIndex=0;
setInterval(()=>{
  memeIndex=(memeIndex+1)%memes.length;
},4000);

// BACKGROUND COLORS + IMAGES
let bgMode=0;
const bgColors=["#000000","#f2c98f"];
const bgImages=[
  "https://i.imgur.com/8pQeX6F.jpeg",
  "https://i.imgur.com/q3Z4F8Y.jpeg"
];
let bgImg=new Image();
bgImg.src=bgImages[0];

setInterval(()=>{
  bgMode=(bgMode+1)%3;
  if(bgMode===2){
    bgImg.src=bgImages[Math.floor(Math.random()*bgImages.length)];
  }
},60000);

// DONUT
function drawDonut(){
  bctx.save();
  bctx.translate(w/2,h/2);

  const t=time*0.8;
  for(let i=0;i<300;i++){
    const a=i/300*Math.PI*2;
    const r=180+Math.sin(time*2+i)*30;
    const x=Math.cos(a+t)*r;
    const y=Math.sin(a+t)*r;

    bctx.fillStyle=`hsla(${(i*4+time*80)%360},80%,60%,0.7)`;
    bctx.fillRect(x,y,2,2);
  }

  bctx.restore();
}

function drawGlitchText(text){
  const jx=(Math.random()-0.5)*6;
  const jy=(Math.random()-0.5)*6;

  // BLACK CORE
  ctx.fillStyle="#000000";
  ctx.fillText(text,jx,jy);

  ctx.fillStyle="#ff00ff";
  ctx.fillText(text,3+jx,-2+jy);

  ctx.fillStyle="#00ffff";
  ctx.fillText(text,-3+jx,2+jy);
}

// LOOP
function loop(){
  time+=0.016;

  // BACKGROUND
  if(bgMode<2){
    bctx.fillStyle=bgColors[bgMode];
    bctx.fillRect(0,0,w,h);
  } else {
    bctx.drawImage(bgImg,0,0,w,h);
  }

  drawDonut();

  ctx.clearRect(0,0,w,h);

  // flicker burst
  flickerTimer+=Math.random();
  if(flickerTimer>80){
    flickerCount=10;
    flickerTimer=0;
  }
  if(flickerCount>0){
    visible=!visible;
    flickerCount--;
  } else {
    visible=true;
  }

  if(visible){
    ctx.save();
    ctx.translate(w/2,h/2);

    const rot=Math.sin(time*3)*0.5;
    const sx=1+Math.sin(time*4)*0.4;
    const sy=1+Math.cos(time*3)*0.4;

    ctx.rotate(rot);
    ctx.scale(sx,sy);

    ctx.font="64px Arial Black";
    ctx.textAlign="center";
    ctx.shadowBlur=30;
    ctx.shadowColor="white";

    drawGlitchText(memes[memeIndex]);

    ctx.restore();
  }

  // mouse particles
  ctx.fillStyle="rgba(255,255,255,0.7)";
  ctx.beginPath();
  ctx.arc(mouse.x,mouse.y,5+Math.sin(time*10)*2,0,Math.PI*2);
  ctx.fill();

  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
